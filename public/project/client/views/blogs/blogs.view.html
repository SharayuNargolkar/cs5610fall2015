<div  ng-controller="BlogsController">
    <div ng-class="model.mainToggleClass">

        <div ng-class="model.sideBarToggleClass" ng-show="model.toggleShow">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title" align="center">Search Blogs</h3>
                </div>
                <div class="panel-body">
                    <form role="search">
                        <div class="form-group">
                            <input ng-model="model.searchString" type="text" class="form-control" placeholder="By Title or Author">
                        </div>
                        <div align = "center">
                        <button ng-click= "model.search(model.searchString)" type="submit" class="btn btn-success btn-block">Search</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class = "intro col-xs-12">
            <p class="pull-right ">
                <button type="button" class="btn btn-success" ng-click="model.toggle()">Search Blogs</button>
            </p>
            <div class="well">
                <h1 id = "view-header" class="page-header">
                    Featured Blogs
                    <br>
                    <small id = "view-small">Thoughts with a difference..</small>
                </h1>
                <div class="eachcard row" ng-repeat="blog in model.blogs| orderBy:'-likes'| startFrom:model.currentPage*model.pageSize | limitTo:model.pageSize">


                    <div class="card">
                        <div class="card-block">
                            <h4 class="card-title"><a href="#/blog/{{blog._id}}">{{blog.title}}</a></h4>
                            <p class="card-text"> <label>by</label> {{blog.author.authorName}}</p>
                            <p><span class="glyphicon glyphicon-time"></span><label> Posted on </label> {{blog.created | date:'MMM dd,yyyy At HH:mm'}}</p>
                            <hr>
                            <p class="crop card-text"> {{blog.content}}</p>
                            <hr>
                            <div>
                                <p class="card-text"><label>Likes: </label> {{blog.likes}} </p>
                                <p class="card-text"><label>Comments: </label> {{blog.comments.length}} </p>
                                <a href="#/blog/{{blog._id}}" class="btn btn-info">See Blog</a>
                            </div>
                        </div>
                    </div>
                    <!-- First Blog Post -->

                </div>
                <br>
                <div ng-if="model.blogs!=0" class="row pull-right">
                    <button class = "btn btn-warning btn-sm" ng-disabled="model.currentPage == 0" ng-click="model.currentPage=model.currentPage-1">
                        Previous
                    </button>
                    {{model.currentPage+1}}/{{model.numberOfPages()}}
                    <button class = "btn btn-warning btn-sm" ng-disabled="model.currentPage >= model.blogs.length/model.pageSize - 1" ng-click="model.currentPage=model.currentPage+1">
                        Next
                    </button>
                </div>
                <br>
            </div>
    </div>
        </div>



</div>











